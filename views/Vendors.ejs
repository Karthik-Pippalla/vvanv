<%- include("partials/header") %>
<h2>Vendor Management</h2>
<a href="/admin/dashboard" class="btn btn-secondary mb-3">Back to Dashboard</a>

<!-- Table Listing Vendors -->
<table class="table table-hover">
  <thead class="table-dark">
    <tr>
      <th>Name</th>
      <th>Contact</th>
      <th>Email</th>
      <th>Address</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% vendors.forEach(vendor => { %>
    <tr>
      <td><%= vendor.name %></td>
      <td><%= vendor.contact %></td>
      <td><%= vendor.email %></td>
      <td><%= vendor.address %></td>
      <td>
        <a href="/vendors/<%= vendor._id %>" class="btn btn-info btn-sm"
          >View</a
        >
        <button
          class="btn btn-success btn-sm"
          onclick="openAddItemModal('<%= vendor._id %>')"
        >
          Add Item
        </button>
        <a href="/vendors/edit/<%= vendor._id %>" class="btn btn-warning btn-sm"
          >Edit</a
        >
        <a
          href="/vendors/delete/<%= vendor._id %>"
          class="btn btn-danger btn-sm"
          onclick="return confirm('Are you sure?')"
          >Delete</a
        >
      </td>
    </tr>
    <% }) %>
  </tbody>
</table>

<!-- Include Add Item Modal -->
<% include('partials/vendorModal'); %>

<script>
  function openAddItemModal(vendorId) {
    document.getElementById("vendorId").value = vendorId;
    var modal = new bootstrap.Modal(document.getElementById("addItemModal"));
    modal.show();
  }
</script>
<%- include("partials/footer") %>
<!-- Include Footer -->
